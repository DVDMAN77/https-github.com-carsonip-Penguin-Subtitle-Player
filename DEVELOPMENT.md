## Building

#### 1. Clone the project & download dependencies

```
git clone --recurse-submodules https://github.com/carsonip/Penguin-Subtitle-Player
```
or
```
git clone https://github.com/carsonip/Penguin-Subtitle-Player
cd Penguin-Subtitle-Player
git submodule update --init --recursive
```

#### 2. Build

Use one of the following ways:

##### a. The easy way (GUI)

1. Download Qt with Qt Creator [here](http://www.qt.io/download-open-source/)
2. Open the .pro file in Qt Creator
3. You should be good to go (In case of some weird compilation errors, turn off the shadow build option in projects build settings)

##### b. The hard way (Command line)

1. Download Qt (Qt Creator is not required) [here](http://www.qt.io/download-open-source/)
2. Run qmake
  ```
  qmake PenguinSubtitlePlayer.pro
  ```
3. Build from the makefile generated by qmake
  * G++ (Linux, macOS): ```make```
  * VC++ (Windows): ```nmake```
  * MinGW (Windows): ```mingw32-make```
4. You should see the executable under ```build/debug``` or ```build/release```

In case you would like to deploy a version which does not require Qt libraries in the client's system, consider statically build Qt then `qmake` with the `static` option, or change the config line in `PenguinSubtitlePlayer.pro` to
```
CONFIG += static \
          c++11
```

## Developing

Penguin Subtitle Player is a Qt5 project. The executables include statically compiled Qt libraries.

#### Code formatting

This project uses ClangFormat. To format the code in this project, run:

```bash
find . -path "./src/uchardet" -prune -o \( -name '*.h' -o -name '*.cpp' \) -print | xargs clang-format -i -style=llvm
```

#### Libraries
* [uchardet](https://gitlab.freedesktop.org/uchardet/uchardet): Encoding detector

#### Compilers

* Windows: VC++ 2012
* Linux: G++
* macOS: G++

Check [here](http://doc.qt.io/qt-5/deployment.html) for deployment details.

## Testing

1. Run `qmake "CONFIG+=test" PenguinSubtitlePlayer.pro`
2. Build from the makefile as described in the Building part
3. Run the executable

Note: This project is using [TravisCI](https://travis-ci.com/github/carsonip/Penguin-Subtitle-Player) for testing.

## Contributing

1. Fork it!
2. Create your feature branch: `git checkout -b my-new-feature`
3. Commit your changes: `git commit -am 'Add some feature'`
4. Push to the branch: `git push origin my-new-feature`
5. Submit a pull request :D
